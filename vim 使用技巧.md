### vim 使用技巧

## 结识**.**范式

**.** 命令可以让我们重复上次的修改

- 什么是修改?

  **x** 命令会删除光标下的字符，在这种情况下使用**.**命令“重复上次修改”时， 会让 Vim 删除光标下的字符.

  **dd** 命令也做删除操作，但它会把整行一起删掉。如果在**dd**后使用**.**命令，那么“重复上次修改”会让 Vim 删除当前行.

  **>G** 命令会增加从当前行到文档末尾处的缩进层级。如果我们在此命令后使 用**.**命令，那么“重复上次修改”会让 Vim 增加从当前行到文档末尾的缩进层级。

  每次我们进入插入模式 时，也会形成一次修改。从进入插入模式的那一刻起（例如，输入 i），直到返回普通 模式时为止（输入<Esc>），Vim 会记录每一个按键操作。做出这样一个修改后再用 . 命 令的话，它将会重新执行所有这些按键操作.

### 不要自我重复

#### 减少无关的移动

假设有如下的 JavaScript 程序片段：

```js
he_vim_way/2_foo_bar.js
var foo = 1 
var bar = 'a' 
var foobar = foo + bar
```

我们想在每行的结尾添加一个分号。

* 基础使用:要实现这一点，先得把光标移到行尾，然后切换 到插入模式进行修改。**$** 命令可以完成移动动作，接着就可以执行 a;<Esc> 完成修改了。由于 **.** 命令可以重复上次的修改，因此我们不必重复之前的 操作，而是执行两次 **j$.**。一个键（**.**）顶 3 个（**a;<Esc>**）。

* 终极使用:通过用**A**来代替**$a**大大提升了**.**命令的效率。我们不必再把光标移到行 尾，只需保证它位于该行内就行了（可在任意位置）。执行足够多次 的 **j.** ，完成对后续行的修改。

